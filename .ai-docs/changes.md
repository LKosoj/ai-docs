# Изменения с последней генерации

## Добавленные файлы

- нет
## Изменённые файлы

- ai_docs/generator.py
## Удалённые файлы

- нет
## Перегенерированные разделы

- Модули
- Глоссарий
- Зависимости
- Архитектура
- Запуск и окружение
- Документация проекта
- Соглашения

## Краткое резюме

```markdown
# Краткое резюме изменений

Внесённые изменения направлены на автоматизацию и поддержание актуальности технической документации на основе анализа исходного кода и конфигураций проекта с использованием LLM.

## Основные обновления
- **Автоматическая генерация документации**: для каждого модуля создаются Markdown-файлы с описанием назначения, архитектуры, зависимостей и изменений на основе анализа содержимого файлов.
- **Интеграция с LLM**: через `LLMClient` выполняется суммаризация и генерация текста; поддерживается управление контекстом и обрезка при превышении `max_tokens`.
- **Кэширование**: реализовано кэширование хешей файлов (`file_map`) и ответов LLM (`llm_cache`) — повторная обработка происходит только при изменении содержимого.
- **Параллельная обработка**: использование `ThreadPoolExecutor` с настраиваемым числом потоков (`threads`) ускоряет обработку больших проектов.
- **Поддержка MkDocs**: автоматически генерируются `mkdocs.yml` и структура навигации, что позволяет мгновенно публиковать документацию в виде сайта.
- **Мультиязычность**: все заголовки и метки локализованы (например, `ru`, `en`) через словари `SECTION_TITLES` и `DOMAIN_TITLES`.

## Изменения в структуре проекта
Добавлена директория `.ai-docs/` со следующим содержимым:
- `modules/` — сгенерированные страницы по каждому модулю.
- `cache/` — хранение хешей и кэша LLM.
- `_index.json` — централизованное описание структуры документации и метаданных.
- Опционально: `README.md`, `mkdocs.yml`.

## Настройки
Конфигурация управляется через параметры:
- `language` — язык вывода.
- `use_cache` — включение кэширования (по умолчанию `True`).
- `threads` — число потоков (по умолчанию 4).
- `write_readme`, `write_mkdocs` — флаги генерации дополнительных артефактов.
- `input_budget` — лимит токенов для контекста LLM.

## Особенности поведения
- Пропускаются тестовые и временные файлы.
- Автоматическое определение домена (код, инфра, конфигурация) по расширениям и содержимому.
- При превышении лимита токенов контекст обрезается с сохранением приоритетных фрагментов.
- Устаревшие файлы документации удаляются при обновлении структуры.

Документация обновляется только при реальных изменениях в коде, что делает процесс эффективным и пригодным для встраивания в CI/CD.
```
