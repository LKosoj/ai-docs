# ai_docs/utils

Модуль предоставляет вспомогательные функции для работы с файлами, строками и хешированием. Основные возможности включают вычисление SHA-256 хешей, безопасное создание слагов, определение типа файлов (текстовый/бинарный), проверку путей на URL и работу с файловой системой. Все функции ориентированы на упрощение типовых операций при сохранении устойчивости к ошибкам и нестандартным входным данным.

Ключевые структуры данных
Path — объект пути к файлу или директории из стандартной библиотеки pathlib, используемый во всех функциях, работающих с файловой системой

---
sha256_bytes(data: bytes) -> str
Вычисляет SHA-256 хеш от байтовых данных и возвращает его в виде шестнадцатеричной строки.
Аргументы
data — байтовая строка, для которой вычисляется хеш
Возвращает
Шестнадцатеричное представление SHA-256 хеша в виде строки
Исключения
Нет

---
sha256_text(text: str) -> str
Вычисляет SHA-256 хеш от текстовой строки, предварительно кодируя её в UTF-8.
Аргументы
text — текстовая строка для хеширования
Возвращает
Шестнадцатеричное представление SHA-256 хеша
Исключения
Нет

---
read_text_file(path: Path) -> str
Считывает содержимое текстового файла с кодировкой UTF-8, игнорируя ошибки.
Аргументы
path — путь к файлу, который необходимо прочитать
Возвращает
Содержимое файла в виде строки
Исключения
Может выбросить исключение при отсутствии доступа к файлу, но не обрабатывается явно

---
safe_slug(path: str) -> str
Преобразует строку в безопасный слаг, заменяя неалфавитно-цифровые символы на подчёркивания.
Аргументы
path — входная строка, обычно путь или имя файла
Возвращает
Нормализованная строка в нижнем регистре, пригодная для использования в именах файлов
Исключения
Нет

---
ensure_dir(path: Path) -> None
Создаёт директорию по указанному пути, включая родительские, если они отсутствуют.
Аргументы
path — путь к директории, которую необходимо создать
Возвращает
Ничего не возвращает
Исключения
Может выбросить OSError при невозможности создания директории

---
is_binary_file(path: Path, sample_size: int = 2048) -> bool
Определяет, является ли файл бинарным, на основе наличия нулевых байтов в первых байтах.
Аргументы
path — путь к проверяемому файлу
sample_size — количество байт для анализа (по умолчанию 2048)
Возвращает
True, если файл считается бинарным, иначе False
Исключения
Возвращает True при возникновении ошибок доступа к файлу

---
is_url(value: str) -> bool
Проверяет, является ли строка URL (HTTP/HTTPS/Git).
Аргументы
value — строка для проверки
Возвращает
True, если строка начинается с http://, https:// или git@, иначе False
Исключения
Нет

---
to_posix(path: Path) -> str
Преобразует путь в строку в формате POSIX (с косыми чертами).
Аргументы
path — объект Path, который необходимо преобразовать
Возвращает
Строковое представление пути с использованием прямых слешей
Исключения
Нет
