# ai_docs/utils

Модуль предоставляет набор утилит для работы с файлами, путями, хешированием и проверкой типов данных. Основные функции включают вычисление SHA-256 хешей, безопасное создание слагов, определение, является ли файл бинарным, проверку строк на соответствие URL и нормализацию путей к POSIX-формату. Все операции учитывают безопасность и корректную обработку кодировок.

---

sha256_bytes(data: bytes) -> str  
Вычисляет SHA-256 хеш от байтовых данных и возвращает его в виде шестнадцатеричной строки  
Аргументы  
data — входные данные в виде байтов  
Возвращает  
Шестнадцатеричное строковое представление хеша SHA-256

---

sha256_text(text: str) -> str  
Вычисляет SHA-256 хеш от текстовой строки, предварительно кодируя её в UTF-8  
Аргументы  
text — входная текстовая строка  
Возвращает  
Шестнадцатеричное строковое представление хеша SHA-256

---

read_text_file(path: Path) -> str  
Считывает содержимое текстового файла по указанному пути с кодировкой UTF-8  
Аргументы  
path — путь к файлу в виде объекта Path  
Возвращает  
Содержимое файла в виде строки

---

safe_slug(path: str) -> str  
Преобразует строку в безопасный слаг, заменяя неалфавитно-цифровые символы на подчёркивания  
Аргументы  
path — входная строка (например, имя файла или путь)  
Возвращает  
Нормализованная строка в нижнем регистре без специальных символов, обрезанная по краям от подчёркиваний

---

ensure_dir(path: Path) -> None  
Создаёт директорию по указанному пути, включая родительские, если они отсутствуют  
Аргументы  
path — путь к директории в виде объекта Path

---

is_binary_file(path: Path, sample_size: int = 2048) -> bool  
Определяет, является ли файл бинарным, на основе наличия нулевых байтов в первых N байтах  
Аргументы  
path — путь к файлу в виде объекта Path  
sample_size — количество байтов для анализа (по умолчанию 2048)  
Возвращает  
True, если файл, вероятно, бинарный; иначе False  
Исключения  
Возвращает True при возникновении OSError (например, недоступность файла)

---

is_url(value: str) -> bool  
Проверяет, является ли строка URL (по префиксам http://, https:// или git@)  
Аргументы  
value — строка для проверки  
Возвращает  
True, если строка начинается с одного из поддерживаемых префиксов URL; иначе False

---

to_posix(path: Path) -> str  
Преобразует путь в строку в формате POSIX (с косыми чертами)  
Аргументы  
path — путь в виде объекта Path  
Возвращает  
Строковое представление пути с использованием прямых слешей (/)
