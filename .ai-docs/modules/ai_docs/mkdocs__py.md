# ai_docs/mkdocs

```markdown
Модуль предоставляет инструменты для генерации конфигурационного файла `mkdocs.yml` и записи Markdown-документов в файловую систему.  
Основная функция `build_mkdocs_yaml` формирует структуру навигации на основе переданных разделов, конфигураций и модулей.  
Вспомогательные функции строят древовидную навигацию по путям файлов, а `write_docs_files` сохраняет документацию на диск.

Ключевые структуры данных
nav — Список словарей, описывающих структуру навигации в MkDocs, где каждый элемент — это отображение заголовка на путь к файлу или вложенный список.
tree — Временная древовидная структура (словарь словарей), используемая для построения иерархии навигации по путям файлов.

build_mkdocs_yaml(
    site_name: str,
    sections: Dict[str, str],
    configs: Dict[str, str],
    local_site: bool = False,
    has_modules: bool = False,
    module_nav_paths: List[str] | None = None,
    project_config_nav_paths: List[str] | None = None,
) -> str
Генерирует содержимое файла mkdocs.yml в формате YAML на основе входных параметров.
Аргументы
site_name — Название сайта документации
sections — Словарь включённых разделов (например, "architecture", "testing")
configs — Словарь конфигурационных систем и соответствующих им имён файлов
local_site — Флаг, указывающий, что сайт предназначен для локального просмотра
has_modules — Флаг наличия модулей в проекте
module_nav_paths — Список путей к файлам модулей для построения навигации
project_config_nav_paths — Список путей к файлам конфигурации проекта для навигации
Возвращает
Строка в формате YAML, представляющая собой корректный mkdocs.yml
Исключения

---
_build_tree_nav(paths: List[str], strip_prefix: str) -> List[Dict[str, object]]
Строит иерархическую структуру навигации из списка путей, удаляя указанный префикс и преобразуя имена файлов.
Аргументы
paths — Список относительных путей к файлам документации
strip_prefix — Префикс пути, который следует удалить перед построением иерархии
Возвращает
Список словарей, представляющих иерархию навигации (вложенные разделы и файлы)
Исключения

---
_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел в дерево навигации по частям пути.
Аргументы
tree — Словарь, представляющий текущий уровень дерева навигации
parts — Список частей пути, оставшихся для обработки
rel_path — Исходный относительный путь к файлу, привязываемый к листу дерева
Возвращает
—
Исключения

---
_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует внутреннее дерево навигации в список словарей, пригодный для MkDocs, с сортировкой.
Аргументы
tree — Дерево навигации в виде вложенных словарей
Возвращает
Отсортированный список словарей с заголовками и путями (или вложенными списками)
Исключения

---
write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации в указанную директорию, создавая промежуточные каталоги при необходимости.
Аргументы
docs_dir — Путь к директории, куда будут сохранены файлы
files — Словарь, где ключ — относительный путь файла, значение — его содержимое в формате строки
Возвращает
—
Исключения
```
