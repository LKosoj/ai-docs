# ai_docs/mkdocs

```markdown
Модуль предоставляет инструменты для генерации конфигурации MkDocs (`mkdocs.yml`) и записи файлов документации на диск. Основная функция `build_mkdocs_yaml` формирует YAML-конфигурацию на основе структуры проекта, включая навигацию по разделам, конфигурационным файлам и модулям. Вспомогательные функции строят иерархическую навигацию для модулей на основе путей файлов. Функция `write_docs_files` сохраняет сгенерированные документы в указанную директорию.

Ключевые структуры данных
Dict[str, str] — Словарь соответствия идентификаторов и имён файлов (например, для конфигураций).
List[str] — Список путей к файлам модулей, используемых для построения навигации.

build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None) -> str
Генерирует содержимое файла mkdocs.yml в формате YAML.
Аргументы
site_name — Название сайта документации.
sections — Словарь включённых разделов (ключ — имя раздела, значение — путь к файлу).
configs — Словарь конфигурационных разделов (например, kubernetes, helm и т.д.).
local_site — Если True, настраивает конфигурацию для локального просмотра (без базового URL).
has_modules — Указывает, что проект содержит модули, которые нужно включить в навигацию.
module_nav_paths — Список путей к файлам модулей для построения иерархической навигации.
Возвращает
Строка в формате YAML, готовая для записи в mkdocs.yml.
Исключения
— 

---
_build_modules_nav(module_paths: List[str]) -> List[Dict[str, object]]
Строит иерархическую структуру навигации для модулей на основе списка путей.
Аргументы
module_paths — Список путей к файлам модулей относительно корня проекта.
Возвращает
Список словарей, представляющих иерархию навигации по модулям.
Исключения
— 

---
_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел в дерево навигации по частям пути.
Аргументы
tree — Словарь, представляющий текущий уровень дерева навигации.
parts — Список частей пути, оставшихся для обработки.
rel_path — Полный относительный путь к файлу, привязываемому к листу дерева.
Возвращает
—
Исключения
— 

---
_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует дерево навигации в упорядоченный список словарей для MkDocs.
Аргументы
tree — Иерархическое дерево навигации, где ключи — названия, значения — пути или поддеревья.
Возвращает
Упорядоченный список словарей с навигацией, отсортированный по алфавиту (сначала папки, потом файлы).
Исключения
— 

---
write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации в указанную директорию.
Аргументы
docs_dir — Путь к директории, куда будут сохранены файлы.
files — Словарь, где ключ — относительный путь файла, значение — его содержимое.
Возвращает
—
Исключения
— 
```
