# ai_docs/mkdocs

Модуль предоставляет инструменты для генерации конфигурационного файла `mkdocs.yml` и записи Markdown-документов на диск.  
Основная функция `build_mkdocs_yaml` формирует структуру навигации и конфигурацию сайта MkDocs на основе входных параметров.  
Вспомогательные функции строят древовидную структуру навигации по путям файлов, а `write_docs_files` сохраняет документы в указанную директорию.

Ключевые структуры данных
Path — объект для работы с путями файловой системы, обеспечивающий кроссплатформенную совместимость
Dict[str, str] — словарь, сопоставляющий названия секций или конфигураций с именами файлов
List[str] — список строк, представляющих относительные пути к файлам документации

build_mkdocs_yaml(
    site_name: str,
    sections: Dict[str, str],
    configs: Dict[str, str],
    local_site: bool = False,
    has_modules: bool = False,
    module_nav_paths: List[str] | None = None,
    project_config_nav_paths: List[str] | None = None,
) -> str
Генерирует содержимое файла mkdocs.yml в формате YAML
Аргументы
site_name — Название сайта документации
sections — Словарь включённых секций (например, "architecture", "testing") и соответствующих им файлов
configs — Словарь типов конфигураций (например, "kubernetes", "helm") и имён файлов
local_site — Если True, настраивает сайт для локального просмотра (без URL и с отключёнными directory URLs)
has_modules — Указывает, что проект содержит модули, требующие отдельной секции в навигации
module_nav_paths — Список путей к файлам модулей для построения древовидной навигации
project_config_nav_paths — Список путей к файлам конфигурации проекта для построения навигации
Возвращает
Строка в формате YAML, представляющая конфигурацию MkDocs
Исключения
Не выбрасывает исключения

_build_tree_nav(paths: List[str], strip_prefix: str) -> List[Dict[str, object]]
Строит древовидную структуру навигации из списка путей, удаляя указанный префикс
Аргументы
paths — Список относительных путей к файлам документации
strip_prefix — Префикс пути, который следует удалить перед построением дерева
Возвращает
Список словарей, представляющих иерархию навигации (вложенные разделы и файлы)
Исключения
Не выбрасывает исключения

_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел в дерево навигации по частям пути
Аргументы
tree — Словарь, представляющий текущий уровень дерева навигации
parts — Список частей пути (разделённых '/') для вставки узла
rel_path — Исходный относительный путь к файлу, привязываемый к листу дерева
Исключения
Не выбрасывает исключения

_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует вложенное дерево в список словарей для использования в mkdocs.yml
Аргументы
tree — Словарь с иерархической структурой навигации (вложенные dict и строки)
Возвращает
Отсортированный список словарей с ключами-названиями и значениями-путями или подразделами
Исключения
Не выбрасывает исключения

write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации в указанную директорию, создавая промежуточные каталоги при необходимости
Аргументы
docs_dir — Путь к директории, куда будут сохранены файлы документации
files — Словарь, где ключ — относительный путь файла, значение — его содержимое в формате UTF-8
Исключения
Может выбросить IOError или OSError при ошибках записи файлов
