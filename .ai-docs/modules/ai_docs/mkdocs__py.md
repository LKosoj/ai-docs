# ai_docs/mkdocs

```markdown
Модуль предоставляет инструменты для генерации конфигурационного файла `mkdocs.yml` и записи файлов документации на диск.  
Поддерживает построение навигации по проекту, включая модули, конфигурации и структуру документации, с учётом иерархии файлов.  
Использует YAML-сериализацию с кастомными тегами для интеграции с Mermaid-диаграммами через плагин mkdocs.

Ключевые структуры данных
_YamlPythonName — строковый тип для представления Python-имён в YAML с кастомным тегом
_YamlSafeDumper — кастомный YAML-дампер с поддержкой репрезентации _YamlPythonName

build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None, project_config_nav_paths: List[str] | None = None) -> str
Генерирует содержимое файла mkdocs.yml в формате YAML
Аргументы
site_name — название сайта документации
sections — словарь секций, которые должны быть включены (ключ — имя секции, значение — путь к файлу)
configs — словарь конфигурационных разделов (например, kubernetes, helm и т.д.)
local_site — если True, отключает site_url и use_directory_urls для локального просмотра
has_modules — указывает, что проект содержит модули, требующие отдельной навигации
module_nav_paths — список путей к файлам модулей для построения иерархии навигации
project_config_nav_paths — список путей к файлам конфигурации проекта для построения навигации
Возвращает
строку в формате YAML, представляющую конфигурацию MkDocs
Исключения
не выбрасывает исключения

---
_build_tree_nav(paths: List[str], strip_prefix: str) -> List[Dict[str, object]]
Строит древовидную структуру навигации на основе списка путей
Аргументы
paths — список относительных путей к файлам документации
strip_prefix — префикс, который будет удалён из путей при построении навигации
Возвращает
список словарей, представляющих иерархию навигации
Исключения
не выбрасывает исключения

---
_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел в дерево навигации по частям пути
Аргументы
tree — изменяемое дерево навигации
parts — части пути, по которым строится иерархия
rel_path — исходный относительный путь к файлу
Исключения
не выбрасывает исключения

---
_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует внутреннее дерево навигации в список словарей для MkDocs
Аргументы
tree — дерево навигации, где ключи — имена разделов, значения — поддеревья или пути
Возвращает
список словарей, пригодных для использования в mkdocs.yml
Исключения
не выбрасывает исключения

---
write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации в указанную директорию с прогресс-логами
Аргументы
docs_dir — корневая директория для записи файлов документации
files — словарь, где ключ — относительный путь файла, значение — его содержимое
Исключения
не выбрасывает исключения
```
