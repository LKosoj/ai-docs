# ai_docs/mkdocs

Модуль предоставляет инструменты для генерации конфигурационного файла `mkdocs.yml` и записи Markdown-документации на диск. 
Основная функция `build_mkdocs_yaml` формирует YAML-конфигурацию сайта MkDocs с поддержкой навигации по разделам, модулям и конфигурациям. 
Вспомогательные функции строят древовидную структуру навигации из путей файлов, а также обеспечивают корректную сериализацию Python-специфичных тегов в YAML.

Ключевые структуры данных
_YamlPythonName — строковый тип для представления Python-имён в YAML с использованием тега `python/name`
_YamlSafeDumper — кастомный YAML-дампер, расширяющий SafeDumper для поддержки Python-специфичных тегов

build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None, project_config_nav_paths: List[str] | None = None) -> str
Генерирует содержимое файла mkdocs.yml как строку в формате YAML
Аргументы
site_name — название сайта документации
sections — словарь включённых разделов (ключ — имя, значение — путь к файлу)
configs — словарь конфигурационных разделов (например, kubernetes, helm и т.д.)
local_site — если True, отключает публичные URL и включает flat-режим адресов
has_modules — указывает, что проект содержит модули, требующие навигации
module_nav_paths — список путей к файлам модулей для построения навигации
project_config_nav_paths — список путей к файлам конфигурации проекта для навигации
Возвращает
Строка с YAML-конфигурацией MkDocs, готовая к записи в файл
Исключения
Не выбрасывает исключения

_build_tree_nav(paths: List[str], strip_prefix: str) -> List[Dict[str, object]]
Строит древовидную структуру навигации из списка путей, удаляя указанный префикс
Аргументы
paths — список относительных путей к файлам документации
strip_prefix — префикс, который нужно удалить из путей перед обработкой
Возвращает
Список словарей, представляющих иерархию навигации в формате MkDocs
Исключения
Не выбрасывает исключения

_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел навигации в дерево по частям пути
Аргументы
tree — изменяемое дерево навигации (словарь)
parts — части пути, по которым строится вложенность
rel_path — исходный относительный путь к файлу, привязываемый к листу
Исключения
Не выбрасывает исключения

_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует внутреннее дерево навигации в упорядоченный список словарей для MkDocs
Аргументы
tree — дерево навигации, где ключи — имена разделов, значения — поддеревья или пути
Возвращает
Упорядоченный список словарей с навигацией, отсортированный по алфавиту (папки первыми)
Исключения
Не выбрасывает исключения

write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации на диск в указанную директорию
Аргументы
docs_dir — путь к директории, куда будут записаны файлы
files — словарь, где ключ — относительный путь файла, значение — его содержимое в формате UTF-8
Исключения
Может выбросить исключение при ошибках ввода-вывода (например, PermissionError, OSError)
