# ai_docs/mkdocs

Модуль предоставляет инструменты для генерации конфигурации MkDocs (`mkdocs.yml`) и записи файлов документации на диск.  
Основной функцией является `build_mkdocs_yaml`, формирующая YAML-конфигурацию на основе структуры проекта.  
Вспомогательные функции строят иерархическую навигацию по модулям и управляют файловой структурой документации.

Ключевые структуры данных  
Dict[str, str] — Словарь соответствия идентификаторов конфигураций и имён файлов.  
List[str] — Список путей к модулям для включения в навигацию.

build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None) -> str  
Формирует строку YAML-конфигурации MkDocs на основе входных параметров.  
Аргументы  
site_name — Название сайта документации  
sections — Словарь включённых разделов (ключи: например, "architecture", "runtime")  
configs — Словарь конфигурационных систем и соответствующих им файлов  
local_site — Флаг, указывающий, что сайт предназначен для локального просмотра  
has_modules — Флаг наличия модулей в проекте  
module_nav_paths — Список путей к файлам модулей для построения навигации  
Возвращает  
Строка в формате YAML, готовая для записи в mkdocs.yml

---
_build_modules_nav(module_paths: List[str]) -> List[Dict[str, object]]  
Строит древовидную структуру навигации по модулям на основе списка путей.  
Аргументы  
module_paths — Список путей к markdown-файлам модулей  
Возвращает  
Список словарей, представляющих иерархию навигации по модулям

---
_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None  
Рекурсивно вставляет узел в дерево навигации по частям пути.  
Аргументы  
tree — Словарь, представляющий текущий уровень дерева навигации  
parts — Части пути, оставшиеся для обработки  
rel_path — Полный относительный путь к файлу, привязываемому к листу

---
_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]  
Преобразует внутреннее дерево навигации в список словарей, подходящий для MkDocs.  
Аргументы  
tree — Дерево навигации, где ключи — названия, значения — поддеревья или пути  
Возвращает  
Список словарей с иерархической структурой навигации

---
write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None  
Записывает файлы документации в указанную директорию, создавая промежуточные каталоги.  
Аргументы  
docs_dir — Корневая директория для записи файлов документации  
files — Словарь: относительный путь файла → его содержимое
