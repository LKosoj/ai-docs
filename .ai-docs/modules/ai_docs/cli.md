# ai_docs/cli

/**
 * @brief Модуль для автоматической генерации документации (README и MkDocs) для репозиториев кода или конфигураций.
 * Поддерживает сканирование исходных файлов, обработку с помощью LLM, кэширование и генерацию многоязычной документации.
 * Работает как с локальными путями, так и с удалёнными Git-репозиториями.
 *
 * Ключевые структуры данных
 * scan_result — Результат сканирования исходной директории, включает список файлов, корневой путь и имя репозитория.
 */

parse_args() -> argparse.Namespace
Парсит аргументы командной строки для настройки генерации документации.
Аргументы
--source — Путь к локальной папке или URL Git-репозитория (обязательный)
--output — Корневая директория вывода (по умолчанию: source или ./output/<repo>)
--readme — Флаг: генерировать README.md
--mkdocs — Флаг: генерировать документацию MkDocs
--language — Язык документации (по умолчанию: ru, допустимо: ru|en)
--include — Шаблоны включения файлов (glob, необязательно)
--exclude — Шаблоны исключения файлов (glob, необязательно)
--max-size — Максимальный размер файла в байтах (по умолчанию: 200000)
--cache-dir — Директория кэша (по умолчанию: .ai_docs_cache)
--no-cache — Флаг: отключить кэширование LLM
--threads — Количество параллельных потоков обработки (по умолчанию: значение из окружения)
--local-site — Флаг: настроить MkDocs для локального запуска
--force — Флаг: перезаписать существующий README.md
Возвращает
Объект Namespace с распарсенными аргументами
Исключения
Может вызвать SystemExit при ошибке парсинга

---
resolve_output(source: str, output: Optional[str], repo_name: str) -> Path
Определяет итоговую директорию вывода на основе аргументов и типа источника.
Аргументы
source — Исходный путь (локальный или URL)
output — Указанный пользователем путь вывода (может быть None)
repo_name — Имя репозитория для формирования пути по умолчанию
Возвращает
Объект Path, указывающий на результирующую директорию вывода
Исключения
Не выбрасывает исключения

---
main() -> None
Основная точка входа: загружает конфигурацию, сканирует исходники, инициализирует LLM и запускает генерацию документации.
Аргументы
Нет (использует аргументы командной строки и переменные окружения)
Возвращает
Ничего
Исключения
Может выбросить исключение при ошибках сканирования, доступа к LLM или записи файлов
