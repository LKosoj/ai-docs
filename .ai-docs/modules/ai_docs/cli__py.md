# ai_docs/cli

```markdown
Модуль `main` — точка входа в инструмент генерации документации для репозиториев кода или конфигураций.  
Обрабатывает аргументы командной строки, сканирует исходные файлы, настраивает LLM и запускает генерацию README и/или MkDocs-сайта.  
Поддерживает кэширование, параллельную обработку, фильтрацию файлов и локальные/удалённые источники.

Ключевые структуры данных
scan_result — Результат сканирования исходной директории, включая список файлов, корневую папку и имя репозитория

parse_args() -> argparse.Namespace
Парсит аргументы командной строки для настройки генерации документации
Аргументы
--source — Путь к локальной папке или URL git-репозитория (обязательный)
--output — Корневая директория вывода (по умолчанию: source или ./output/<repo>)
--readme — Флаг: генерировать README.md
--mkdocs — Флаг: генерировать документацию MkDocs
--language — Язык документации (ru|en, по умолчанию: ru)
--include — Шаблоны включения файлов (glob, необязательно)
--exclude — Шаблоны исключения файлов (glob, необязательно)
--max-size — Максимальный размер файла в байтах (по умолчанию: 200 000)
--cache-dir — Директория кэша (по умолчанию: .ai_docs_cache)
--no-cache — Отключить кэширование LLM
--threads — Количество потоков для параллельной обработки (по умолчанию: из переменной окружения)
--local-site — Генерировать конфигурацию MkDocs для локального запуска
--force — Перезаписать существующий README.md
Возвращает
Объект Namespace с распарсенными аргументами
Исключения
Не выбрасывает исключения напрямую

---
resolve_output(source: str, output: Optional[str], repo_name: str) -> Path
Определяет корневую директорию для вывода документации
Аргументы
source — Исходный путь (локальный или URL)
output — Указанный пользователем путь вывода, может быть None
repo_name — Имя репозитория (используется при генерации пути по умолчанию)
Возвращает
Объект Path — результирующий путь к директории вывода
Исключения
Не выбрасывает исключения

---
main() -> None
Основная функция: загружает конфигурацию, сканирует исходники и запускает генерацию документации
Аргументы
Нет (использует аргументы командной строки и переменные окружения)
Возвращает
Ничего не возвращает
Исключения
Может выбросить исключение при ошибках сканирования, доступа к LLM или записи файлов
```
