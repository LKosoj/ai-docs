# ai_docs/mkdocs

Модуль предоставляет инструменты для генерации конфигурации MkDocs (`mkdocs.yml`) и записи файлов документации на диск. Основная функция `build_mkdocs_yaml` формирует YAML-конфигурацию на основе структуры проекта, включая навигацию по разделам, конфигурационным файлам и модулям. Вспомогательные функции строят иерархическую навигацию для модулей из путей файлов. Функция `write_docs_files` обеспечивает запись сгенерированных Markdown-файлов в указанную директорию.

Ключевые структуры данных  
Dict[str, str] — Словарь соответствия идентификаторов конфигураций и имён файлов.  
List[str] — Список путей к файлам модулей, используемых для построения навигации.

build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None) -> str  
Генерирует содержимое файла mkdocs.yml в формате YAML  
Аргументы  
site_name — Название сайта документации  
sections — Словарь включённых разделов (ключи: например, "architecture", "runtime")  
configs — Словарь конфигурационных секций и соответствующих им имён файлов  
local_site — Флаг, указывающий, что документация предназначена для локального просмотра  
has_modules — Флаг наличия модулей в проекте  
module_nav_paths — Список путей к файлам модулей для построения навигации  
Возвращает  
Строка с YAML-представлением конфигурации MkDocs

---
_build_modules_nav(module_paths: List[str]) -> List[Dict[str, object]]  
Строит иерархическую структуру навигации по модулям на основе списка путей  
Аргументы  
module_paths — Список путей к файлам модулей относительно корня проекта  
Возвращает  
Список словарей, представляющих иерархию навигации для раздела "Модули"

---
_insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None  
Рекурсивно вставляет узел в дерево навигации по частям пути  
Аргументы  
tree — Словарь, представляющий текущий уровень дерева навигации  
parts — Список частей пути, оставшихся для обработки  
rel_path — Полный относительный путь к файлу, привязываемому к листу дерева

---
_tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]  
Преобразует дерево навигации в упорядоченный список словарей для MkDocs  
Аргументы  
tree — Иерархическое дерево навигации с вложенными узлами и листьями  
Возвращает  
Упорядоченный по ключам список словарей, пригодный для использования в mkdocs.yml

---
write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None  
Записывает файлы документации на диск в указанную директорию  
Аргументы  
docs_dir — Путь к директории, куда будут сохранены файлы  
files — Словарь, где ключ — относительный путь файла, значение — его содержимое
