# ai_docs/mkdocs

Модуль предоставляет инструменты для генерации конфигурации MkDocs (`mkdocs.yml`) и записи файлов документации на диск. Основная функция `build_mkdocs_yaml` формирует YAML-конфигурацию на основе структуры проекта, включая навигацию по разделам, конфигурационным файлам и модулям. Вспомогательные функции строят иерархическую навигацию для модулей из путей файлов. Функция `write_docs_files` обеспечивает запись сгенерированных Markdown-файлов в указанную директорию.

```python
def build_mkdocs_yaml(site_name: str, sections: Dict[str, str], configs: Dict[str, str], local_site: bool = False, has_modules: bool = False, module_nav_paths: List[str] | None = None) -> str
Формирует строку YAML-конфигурации MkDocs на основе входных параметров.
Аргументы
site_name — Название сайта, отображаемое в MkDocs
sections — Словарь разделов документации, где ключ — идентификатор, значение — путь к файлу
configs — Словарь конфигурационных разделов (например, kubernetes, helm), где ключ — тип, значение — имя файла
local_site — Если True, настраивает конфигурацию для локального просмотра (без URL)
has_modules — Указывает, что проект содержит модули, требующие раздела в навигации
module_nav_paths — Список путей к файлам модулей для построения иерархической навигации
Возвращает
Строка в формате YAML, готовая для записи в mkdocs.yml
```

---
```python
def _build_modules_nav(module_paths: List[str]) -> List[Dict[str, object]]
Строит иерархическую структуру навигации для раздела "Модули" на основе списка путей.
Аргументы
module_paths — Список путей к файлам модулей относительно корня проекта
Возвращает
Список словарей, представляющих иерархию навигации по модулям
```

---
```python
def _insert_nav_node(tree: Dict[str, object], parts: List[str], rel_path: str) -> None
Рекурсивно вставляет узел в дерево навигации по частям пути.
Аргументы
tree — Словарь, представляющий текущий уровень дерева навигации
parts — Список строк, представляющих части пути (разделённые '/')
rel_path — Полный относительный путь к файлу, сохраняемый в листовом узле
```

---
```python
def _tree_to_nav(tree: Dict[str, object]) -> List[Dict[str, object]]
Преобразует дерево навигации в список словарей, пригодный для MkDocs.
Аргументы
tree — Иерархическое дерево навигации, где ключи — названия, значения — пути или поддеревья
Возвращает
Список словарей, представляющих упорядоченную навигацию
```

---
```python
def write_docs_files(docs_dir: Path, files: Dict[str, str]) -> None
Записывает файлы документации на диск в указанную директорию.
Аргументы
docs_dir — Путь к директории, куда будут записаны файлы
files — Словарь, где ключ — относительный путь файла, значение — его содержимое в виде строки
```
