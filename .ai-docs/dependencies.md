# Зависимости

Проект `ai_docs` использует комбинацию прямых и опциональных зависимостей для обеспечения работы с LLM, обработки текста, генерации документации и управления файлами. Ниже приведены ключевые зависимости и их назначение.

## Основные зависимости

| Пакет | Назначение | Версия (пример) |
|------|-----------|----------------|
| `openai` | Клиент для взаимодействия с OpenAI API и совместимыми провайдерами. | `^1.0.0` |
| `tiktoken` | Подсчёт токенов и чанкинг текста по модели LLM. | `^0.7.0` |
| `python-dotenv` | Загрузка переменных окружения из `.env`. | `^1.0.0` |
| `pyyaml` | Генерация и парсинг `mkdocs.yml`. | `^6.0.0` |
| `pathspec` | Обработка правил игнорирования в стиле `.gitignore`. | `^0.11.0` |
| `requests` | HTTP-запросы (например, при клонировании репозиториев). | `^2.30.0` |

## Опциональные / средовые зависимости

- **Git** — используется при обработке URL-репозиториев (`git clone --depth 1`).
- **MkDocs** — требуется для публикации и локального просмотра документации:
  - `mkdocs`
  - `mkdocs-material`
  - `mkdocs-mermaid2-plugin`

## Тестовые зависимости

| Пакет | Назначение |
|------|-----------|
| `unittest` | Встроенная библиотека — юнит-тесты. |
| `tempfile` | Изолированное тестирование с временными файлами. |
| `mock` | Мокирование внешних вызовов (при необходимости). |

## Установка

```bash
pip install -r requirements.txt
```

Где `requirements.txt` содержит:
```
openai>=1.0.0
tiktoken>=0.7.0
python-dotenv>=1.0.0
pyyaml>=6.0.0
pathspec>=0.11.0
requests>=2.30.0
```

Для работы с MkDocs дополнительно:
```
mkdocs
mkdocs-material
mkdocs-mermaid2-plugin
```

## Особенности

- Поддержка **совместимых с OpenAI API** провайдеров (например, Azure OpenAI, Ollama, LocalAI) через `OPENAI_BASE_URL`.
- Все зависимости с открытым исходным кодом.
- Нет глубоких вложенных зависимостей — проект ориентирован на минимальную сборку.
- Кэширование (`llm_cache.json`, `index.json`) не требует внешних БД — используется файловая система.
