# Зависимости

Проект `ai_docs` зависит от внешних инструментов и Python-пакетов для корректной работы. Ниже приведены обязательные и опциональные зависимости с пояснением их назначения.

## Внешние системные зависимости

| Инструмент | Назначение | Обязательность |
|-----------|----------|--------------|
| `git` | Клонирование удалённых репозиториев при указании `--source` как URL | Обязательно при работе с Git-репозиториями |
| `python` (≥ 3.8) | Выполнение CLI-скрипта и импорт модулей | Обязательно |

## Основные Python-зависимости

Указаны в `pyproject.toml` в секции `project.dependencies`.

| Пакет | Назначение |
|------|----------|
| `requests` | HTTP-запросы к LLM API |
| `tiktoken` | Токенизация текста для контроля длины контекста при работе с LLM |
| `PyYAML` | Парсинг конфигурационных файлов `.ai-docs.yaml` и `mkdocs.yml` |
| `python-dotenv` | Загрузка переменных окружения из `.env` |
| `pathspec` | Сопоставление путей с шаблонами `.gitignore` и `.build_ignore` |
| `mkdocs` | Генерация статического сайта документации |
| `mkdocs-mermaid2-plugin` | Поддержка диаграмм Mermaid в MkDocs |
| `pymdown-extensions` | Дополнительные Markdown-расширения (например, подсветка кода, таблицы) |

## Опциональные зависимости

| Пакет | Условие использования |
|------|----------------------|
| `setuptools`, `wheel` | Только при сборке пакета (`build-system` в `pyproject.toml`) |

## Управление зависимостями

- Установка: `pip install .` (в корне проекта).
- Для разработки: зависимости устанавливаются автоматически при выполнении `pip install -e .`.
- Все зависимости объявлены явно — не требуется ручная установка дополнительных пакетов.

## Особенности

- Нет зависимостей от проприетарных или платных инструментов.
- Поддержка OpenAI-совместимых API (через `OPENAI_BASE_URL`) позволяет использовать альтернативные провайдеры (например, локальные LLM через `ollama`, `vLLM`).
- Кэширование (`tiktoken`, `pathspec`) и многопоточность реализованы без внешних брокеров — работает «из коробки».
