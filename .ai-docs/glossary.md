# Глоссарий

```markdown
# Глоссарий

- **CLI-инструмент `ai_docs`** — утилита командной строки для автоматической генерации технической документации по исходному коду и конфигурационным файлам. Поддерживает анализ локальных и удалённых Git-репозиториев, генерацию `README.md` и полноценного MkDocs-сайта.

- **`README.md`** — основной файл краткого описания проекта, генерируемый инструментом. Содержит обзор, архитектуру, инструкции по запуску, зависимости и другие ключевые разделы.

- **`.ai-docs/`** — каталог сгенерированных Markdown-файлов документации, включая `changes.md` (отчёт об изменениях) и `modules/` (подробная документация по модулям). Используется как `docs_dir` в MkDocs.

- **`mkdocs.yml`** — конфигурационный файл для статического генератора документации MkDocs. Формируется динамически, содержит настройки навигации, плагинов и структуры сайта.

- **`ai_docs_site/`** — выходная директория со статическим сайтом документации, собранная MkDocs. Открывается локально или разворачивается на хостинге.

- **`.ai_docs_cache/`** — директория кэширования, хранящая:
  - `index.json` — хэши файлов и метаданные предыдущего запуска,
  - `llm_cache.json` — закэшированные ответы LLM для одинаковых запросов.
  Обеспечивает инкрементальную генерацию и ускорение повторных запусков.

- **LLM-клиент** — компонент, реализующий взаимодействие с языковой моделью (например, GPT) через API. Поддерживает кэширование, таймауты, настройку модели и параметров генерации (`temperature`, `max_tokens`).

- **`ScanResult`** — структура данных, содержащая результат сканирования исходников: список файлов с метаданными (путь, тип, домены, размер, хэш).

- **`classify_type`** — функция, определяющая тип файла по расширению и имени: `code`, `docs`, `config`, `data`, `infra`, `ci`, `other`.

- **`detect_domains`** — функция, определяющая технологические домены (например, `kubernetes`, `terraform`, `docker`) на основе пути, имени файла и фрагмента содержимого.

- **`is_infra`** — вспомогательная функция, проверяющая, относится ли файл к инфраструктурным компонентам (наличие доменов `kubernetes`, `helm`, `terraform` и др.).

- **`chunk_text`** — функция разбиения текста на фрагменты (чанки) по заданному лимиту токенов, с использованием `tiktoken` для точного подсчёта.

- **`CacheManager`** — класс, управляющий кэшем файлов и LLM-ответов. Позволяет определить изменения в файлах (`added`, `modified`, `deleted`) путём сравнения хэшей.

- **`format_changes_md`** — функция формирования отчёта об изменениях в Markdown, группирующая файлы по типу изменений и включающая список перегенерированных разделов.

- **`safe_slug`** — утилита преобразования строки в безопасный идентификатор (слаг), заменяющая недопустимые символы на `_`, приводя к нижнему регистру.

- **`is_binary_file`** — функция эвристического определения бинарного файла по наличию нулевых байтов в первых 2048 байтах.

- **`is_url`** — проверка строки на соответствие формату URL (начинается с `http://`, `https://`, `git@`).

- **`input_budget`** — динамический лимит токенов, выделяемый на вход LLM при генерации, с учётом ограничений модели и необходимости уложиться в контекст.

- **`--local-site`** — флаг CLI, адаптирующий `mkdocs.yml` для локального просмотра: убирает `site_url` и отключает `use_directory_urls`.

- **`--force`** — флаг, разрешающий перезапись существующего `README.md` при генерации.

- **`--no-cache`** — отключает использование кэша LLM и индекса файлов, принудительно перегенерируя всё содержимое.

- **`.build_ignore`** — пользовательский файл с правилами игнорирования файлов при сканировании, аналог `.gitignore`.

- **`SUMMARY_PROMPT` / `MODULE_SUMMARY_PROMPT`** — шаблоны промптов для краткого и подробного описания файлов, используемые при вызове LLM.
```
