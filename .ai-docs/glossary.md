# Глоссарий

| Термин | Описание |
|-------|--------|
| **AI Docs** | CLI-инструмент для автоматической генерации технической документации по исходному коду и конфигурационным файлам с использованием LLM. Поддерживает анализ локальных и удалённых репозиториев, генерацию `README.md` и MkDocs-сайта. |
| **LLM (Large Language Model)** | Языковая модель, используемая для анализа кода и генерации документации. Настройка осуществляется через OpenAI API или совместимые эндпоинты. |
| **`.ai-docs/`** | Выходная директория с детальной документацией. Содержит сгенерированные `.md`-файлы, навигационный индекс `_index.json`, структуру модулей (`modules/`) и другие артефакты. |
| **`.ai_docs_cache/`** | Директория кэширования. Хранит `index.json` (хэши файлов) и `llm_cache.json` (кешированные ответы LLM) для оптимизации повторных запусков. |
| **`.ai-docs.yaml`** | Опциональный конфигурационный файл для кастомизации сканирования: расширения файлов, фильтрация, исключения. При отсутствии создаётся с дефолтными настройками. |
| **`mkdocs.yml`** | Генерируемый конфигурационный файл для MkDocs. Определяет структуру сайта, навигацию, заголовки и настройки размещения (локальный/удалённый). |
| **`ai_docs_site/`** | Директория, содержащая собранный MkDocs-сайт. Создаётся при активации флага `--mkdocs`. |
| **`scan_source`** | Основная функция модуля сканирования. Анализирует локальную директорию или git-репозиторий (по URL), возвращает список файлов с учётом фильтров и `.gitignore`. |
| **`ScanResult`** | Объект, содержащий результат сканирования: путь к корню, список файлов, источник (локальный/URL), имя репозитория. |
| **FIXED_INCLUDE_PATTERNS** | Список шаблонов, по которым файлы всегда включаются в анализ (например, `*.tf`, `Dockerfile`, `.gitlab-ci.yml`). |
| **DEFAULT_EXCLUDE_PATTERNS** | Стандартные паттерны исключения: `node_modules`, `.venv`, `__pycache__`, скрытые и системные директории. |
| **`LLMClient`** | Класс для взаимодействия с LLM через API. Поддерживает кэширование, настройку модели, таймауты, потокобезопасность. Инициализируется через `from_env`. |
| **`summarize_file`** | Функция генерации описания файла (краткого или детального) с помощью LLM. Возвращает текст в формате Markdown. |
| **Doxygen-стиль** | Формат детализированной документации, имитирующий структуру Doxygen: описание, параметры, возврат, примеры. Нормализуется через `MODULE_SUMMARY_REFORMAT_PROMPT`. |
| **`chunk_text`** | Функция разбиения текста на части по ограничению токенов модели. Используется при превышении лимита контекста. |
| **`CacheManager`** | Класс управления кэшем. Сравнивает хэши файлов, определяет изменения (added/modified/deleted/unchanged), сохраняет состояние. |
| **`build_mkdocs_yaml`** | Функция генерации `mkdocs.yml`. Динамически формирует навигацию, включая модули, конфиги, архитектуру и другие разделы. |
| **`_index.json`** | JSON-файл в `.ai-docs/`, содержащий навигационную структуру документации: иерархия модулей, приоритеты, связи. Используется для построения оглавления и навигации. |
| **`docs/changes.md`** | Автоматически генерируемый отчёт об изменениях: список добавленных, изменённых, удалённых файлов, перегенерированных разделов и итоговое резюме. |
| **`--threads` / `AI_DOCS_THREADS`** | Параметр параллельной обработки. Определяет количество одновременных запросов к LLM. По умолчанию зависит от системы. |
| **`--language`** | Флаг выбора языка документации (`ru` или `en`). Влияет на локализацию заголовков и сгенерированного текста. |
| **`--readme`** | Флаг генерации только `README.md`. При отсутствии `--mkdocs` — создаётся только README. |
| **`--mkdocs`** | Флаг генерации MkDocs-сайта. Создаёт `mkdocs.yml` и собирает сайт в `ai_docs_site/`. |
| **`--no-cache`** | Отключает кэширование ответов LLM и проверку изменений файлов. Принудительно перегенерирует всю документацию. |
| **`--force`** | Принудительная перезапись существующего `README.md`. |
| **`--local-site` / `AI_DOCS_LOCAL_SITE`** | Режим локального хостинга. Настраивает `mkdocs.yml` для запуска через `mkdocs serve` (отключает `site_url`, `use_directory_urls`). |
| **`tiktoken`** | Библиотека для токенизации текста. Используется для подсчёта токенов и разбиения контента под ограничения модели. |
| **`_needs_doxygen_fix`** | Проверка, соответствует ли сгенерированный текст Doxygen-формату. Обнаруживает нарушения (лишние заголовки, списки и т.п.). |
| **`_strip_fenced_markdown`** | Удаляет блоки ```` ``` ```` из текста, чтобы избежать вложенных блоков кода в итоговой документации. |
