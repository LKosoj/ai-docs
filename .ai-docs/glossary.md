# Глоссарий

| Термин | Определение |
|-------|-----------|
| **CLI-инструмент `ai_docs`** | Командная утилита для автоматической генерации технической документации по исходному коду и конфигурациям с использованием LLM. Поддерживает локальные и удалённые (Git) источники. |
| **`README.md`** | Основной файл документации, генерируемый инструментом. Содержит краткий обзор проекта, структуру, инструкции по запуску и ключевые домены. |
| **`mkdocs.yml`** | Генерируемый конфигурационный файл для статического сайта документации на основе MkDocs. Определяет навигацию, метаданные и настройки размещения. |
| **`ai_docs_site/`** | Выходная директория, содержащая собранный сайт документации в формате MkDocs, готовый к публикации. |
| **`.ai-docs/`** | Директория с детальной сгенерированной документацией: модули, архитектура, конфиги, `_index.json`. Используется как источник для `README.md` и `mkdocs.yml`. |
| **`.ai_docs_cache/`** | Каталог кэша, хранящий результаты анализа файлов и ответы LLM. Обеспечивает инкрементальную перегенерацию и ускорение повторных запусков. |
| **`.ai-docs.yaml`** | Опциональный конфигурационный файл для кастомизации сканирования: расширения, фильтрация, исключения. Переопределяет дефолтные настройки. |
| **LLM (Large Language Model)** | Языковая модель, используемая для генерации описаний кода. Настройка через `OPENAI_MODEL`, `OPENAI_API_KEY` и другие переменные окружения. |
| **`LLMClient`** | Клиент для взаимодействия с LLM через API. Поддерживает кэширование, таймауты, кастомные эндпоинты и потокобезопасность. |
| **`scan()`** | Основная функция модуля сканирования. Анализирует файлы в директории или репозитории с учётом фильтров, `.gitignore`, размера и типов. |
| **`ScanResult`** | Объект, возвращаемый `scan()`. Содержит список файлов с метаданными, корневой путь, источник и имя репозитория. |
| **`FIXED_INCLUDE_PATTERNS`** | Список шаблонов, по которым файлы включаются в анализ независимо от других фильтров (например, `Dockerfile`, `terraform.tf`, `package-lock.json`). |
| **`DEFAULT_EXCLUDE_PATTERNS`** | Стандартные шаблоны исключения: `.git`, `__pycache__`, `node_modules`, `.venv`, `*.pyc`. |
| **`.build_ignore`** | Дополнительный файл с пользовательскими правилами игнорирования, аналогичный `.gitignore`. |
| **`summarize_file()`** | Функция генерации описания файла с помощью LLM. Поддерживает краткий и детализированный (Doxygen-подобный) режимы. |
| **`_normalize_module_summary()`** | Функция приведения сгенерированного описания к строгому Doxygen-формату при обнаружении отклонений. |
| **`build_mkdocs_yaml()`** | Функция генерации `mkdocs.yml` на основе структуры проекта, доменов и настроек. Динамически формирует навигацию. |
| **`CacheManager`** | Класс для управления кэшем: отслеживание изменений файлов (`diff_files`), хранение хэшей и LLM-ответов в `index.json` и `llm_cache.json`. |
| **`tiktoken`** | Библиотека для токенизации текста. Используется для подсчёта токенов и разбиения на фрагменты с учётом лимитов модели. |
| **`chunk_text()`** | Функция разбиения текста на части, каждая из которых укладывается в заданный лимит токенов модели. |
| **`format_changes_md()`** | Функция генерации Markdown-отчёта об изменениях: добавленные, изменённые, удалённые файлы, перегенерированные разделы. |
| **`ensure_dir()`** | Утилита для безопасного создания директорий с проверкой существования. |
| **`classify_type()`** | Функция определения типа файла (код, конфиг, документация) по расширению и имени. |
| **`detect_domains()`** | Функция определения доменов инфраструктуры (Kubernetes, Terraform, Docker, CI/CD) по содержимому и путям файлов. |
| **`--threads` / `AI_DOCS_THREADS`** | Параметр, задающий количество параллельных потоков обработки файлов. Ускоряет генерацию в многопоточном режиме. |
| **`--local-site` / `AI_DOCS_LOCAL_SITE`** | Флаг, настраивающий `mkdocs.yml` для локального хостинга (отключает `site_url`, включает `use_directory_urls: false`). |
| **`--no-cache`** | Опция отключения кэширования LLM-запросов. Принудительно перегенерирует все описания. |
| **`--force`** | Флаг перезаписи существующего `README.md` без предупреждений. |
| **`docs/changes.md`** | Файл журнала изменений, автоматически обновляемый при каждой генерации. Содержит сводку по модифицированным компонентам. |
