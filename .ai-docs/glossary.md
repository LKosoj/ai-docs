# Глоссарий

```markdown
# Глоссарий

**CLI-инструмент `ai_docs`**  
Консольное приложение для автоматической генерации технической документации по исходному коду и конфигурационным файлам. Поддерживает анализ локальных директорий, локальных и удалённых Git-репозиториев.

**`README.md`**  
Краткое описание проекта, генерируемое инструментом. Содержит основную информацию о назначении, структуре и технологиях проекта.

**`.ai-docs/`**  
Каталог сгенерированных Markdown-файлов документации. Включает `changes.md` (отчёт об изменениях) и поддиректорию `modules/` с документацией по модулям.

**`mkdocs.yml`**  
Конфигурационный файл для статического генератора документации MkDocs. Автоматически формируется на основе структуры проекта и включённых разделов.

**`ai_docs_site/`**  
Выходная директория со статическим сайтом документации, собранным с помощью MkDocs.

**`.ai_docs_cache/`**  
Каталог кэша, хранящий:
- `index.json` — хеши файлов и метаданные для определения изменений,
- `llm_cache.json` — закэшированные ответы LLM для одинаковых запросов.

**LLM (Large Language Model)**  
Языковая модель, используемая для генерации текста документации. Поддерживается через API (например, OpenAI).

**`LLMClient`**  
Класс для взаимодействия с LLM через HTTP. Поддерживает кэширование, настройку параметров генерации и загрузку конфигурации из переменных окружения.

**`ScanResult`**  
Результат сканирования исходной директории: список файлов с метаданными (путь, тип, домены, размер).

**`classify_type`**  
Функция определения типа файла (code, docs, config, infra и др.) по расширению и имени.

**`detect_domains`**  
Функция определения технологических доменов (kubernetes, terraform, docker и др.) по пути, имени и содержимому файла.

**`is_infra`**  
Проверка, относится ли файл к инфраструктурным компонентам (на основе набора доменов).

**`chunk_text`**  
Разделение текста на фрагменты (чанки) по заданному лимиту токенов для корректной обработки LLM.

**`safe_slug`**  
Преобразование строки в безопасный URL-слаг: замена недопустимых символов на `_`, приведение к нижнему регистру.

**`CacheManager`**  
Класс управления кэшем. Выполняет:
- загрузку/сохранение индекса файлов и LLM-кэша,
- сравнение текущих и предыдущих хешей файлов (`diff_files`),
- определение изменённых, добавленных, удалённых и неизменных файлов.

**`diff_files`**  
Метод `CacheManager`, возвращающий кортеж из четырёх словарей: `added`, `modified`, `deleted`, `unchanged` — на основе сравнения хешей.

**`format_changes_md`**  
Формирование отчёта об изменениях в формате Markdown: перечисление добавленных, изменённых и удалённых файлов, перегенерированных разделов и краткого резюме.

**`generate_docs`**  
Основная функция генерации документации: координирует сканирование, суммаризацию файлов, создание разделов и итоговых файлов (`README.md`, `mkdocs.yml`).

**`build_mkdocs_yaml`**  
Функция динамического создания конфигурации MkDocs с учётом языка, включённых разделов, модулей и флага `local_site`.

**`write_docs_files`**  
Запись сгенерированных Markdown-файлов в указанную директорию с созданием промежуточных путей.

**`summarize_file`**  
Генерация документации по одному файлу с помощью LLM. Поддерживает режимы краткого описания и детальной Doxygen-подобной документации.

**`_needs_doxygen_fix`**, **`_normalize_module_summary`**  
Функции проверки и коррекции форматирования текста для соответствия стилю Doxygen (обработка заголовков, списков и маркеров).

**`is_binary_file`**  
Определение, является ли файл бинарным (по наличию нулевых байтов в первых 2048 байтах).

**`is_url`**  
Проверка строки на соответствие формату URL (начинается с `http://`, `https://`, `git@`).

**`to_posix`**  
Преобразование пути в строку с разделителем `/`, независимо от ОС.

**`section_workers`**, **`AI_DOCS_THREADS`**  
Параметры параллельной обработки: количество потоков для генерации разделов документации и обработки файлов.
```
