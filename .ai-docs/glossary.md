# Глоссарий

| Термин | Определение |
|-------|-----------|
| **LLM** | Large Language Model — языковая модель, используемая для генерации текста документации на основе анализа исходного кода. В `ai_docs` поддерживается через OpenAI-совместимые API. |
| **Кэширование** | Механизм сохранения результатов анализа файлов и ответов LLM в `.ai_docs_cache/` для ускорения последующих запусков. Отключается флагом `--no-cache`. |
| **Инкрементальная обработка** | Обновление документации только для изменённых, добавленных или удалённых файлов, определяемых через сравнение хэшей в `index.json`. |
| **`.ai-docs`** | Рабочая директория, содержащая сгенерированные документы, навигационный индекс `_index.json`, отчёт `changes.md` и промежуточные данные. |
| **`.ai_docs_cache`** | Каталог для хранения закэшированных ответов LLM (`llm_cache.json`) и метаданных файлов (`index.json`). Автоматически создаётся при первом запуске. |
| **`ScanResult`** | Объект, возвращаемый сканером, содержащий список файлов с метаданными, корневой путь, источник и имя репозитория. Используется как вход для генерации документации. |
| **Технологический домен** | Категория инфраструктурной или программной технологии, автоматически распознаваемая по файлам: Kubernetes, Helm, Terraform, Docker, CI/CD, Observability, Service Mesh, Data/Storage. |
| **`FIXED_INCLUDE_PATTERNS`** | Список шаблонов имён и расширений файлов, которые всегда включаются в сканирование (например, `Dockerfile`, `*.tf`, `requirements.txt`), независимо от правил исключения. |
| **`DEFAULT_EXCLUDE_PATTERNS`** | Стандартные шаблоны исключения: `.git`, `__pycache__`, `node_modules`, `.venv`, `dist`, `build`, `.ai-docs`, `.ai_docs_cache`. |
| **`.build_ignore`** | Дополнительный файл с пользовательскими правилами игнорирования, аналогичный `.gitignore`. Используется вместе с `.gitignore` и конфигом `.ai-docs.yaml`. |
| **`.ai-docs.yaml`** | Конфигурационный файл для кастомизации сканирования: расширения файлов, дополнительные правила исключения, настройки фильтрации. Создаётся автоматически при отсутствии. |
| **`chunk_text`** | Утилита разбиения текста на части по лимиту токенов модели, чтобы уложиться в контекст LLM. Использует `tiktoken` для подсчёта. |
| **`CacheManager`** | Класс для управления кэшем: загрузка/сохранение `index.json` и `llm_cache.json`, сравнение состояния файлов (`diff_files`). |
| **`llm_cache`** | Словарь в памяти, синхронизируемый с `llm_cache.json`, где ключ — SHA256 хеш запроса, значение — ответ LLM. Обеспечивает повторное использование без обращения к API. |
| **`summarize_file`** | Функция генерации краткого описания файла с помощью LLM. Поддерживает режимы: общий обзор, описание модуля, описание конфигурации. |
| **`build_mkdocs_yaml`** | Функция генерации конфигурации `mkdocs.yml` с поддержкой навигации, секций, Mermaid-диаграмм и локального режима (`--local-site`). |
| **`write_docs_files`** | Утилита записи Markdown-файлов в `.ai-docs`, создающая необходимые подкаталоги. Используется при генерации документации. |
| **`file_map`** | Внутренняя структура данных, содержащая метаданные всех файлов проекта: тип, домены, хэш, путь к сводке. Основа для построения индекса и навигации. |
| **`format_changes_md`** | Функция формирования отчёта `changes.md` с перечислением добавленных, изменённых, удалённых файлов и перегенерированных разделов. |
| **`_index.json`** | JSON-файл в `.ai-docs`, содержащий структуру навигации, приоритеты модулей и метаданные для быстрой ориентации в проекте. |
| **`--local-site`** | Флаг, настраивающий MkDocs для локального запуска: отключает публикацию, использует относительные пути. Можно задать через `AI_DOCS_LOCAL_SITE`. |
| **`AI_DOCS_THREADS`** | Переменная окружения, определяющая количество потоков для параллельной обработки файлов. По умолчанию — многопоточная обработка. |
