# Глоссарий

| Термин | Определение |
|-------|-----------|
| **LLM** | Large Language Model — языковая модель, используемая для генерации текста документации на основе анализа исходного кода. В `ai_docs` поддерживается через OpenAI-совместимые API. |
| **Кэширование** | Механизм сохранения результатов обработки файлов и ответов LLM в `.ai_docs_cache/` для ускорения повторной генерации. Отключается флагом `--no-cache`. |
| **Инкрементальная обработка** | Обновление только тех разделов документации, которые затронуты изменениями в исходных файлах. Основана на сравнении хэшей файлов через `CacheManager`. |
| **`ScanResult`** | Объект, возвращаемый сканером, содержащий список файлов с метаданными, корневой путь, источник и имя репозитория. Используется как вход для генерации документации. |
| **`.ai-docs.yaml`** | Конфигурационный файл проекта для кастомизации: расширений файлов, шаблонов исключения, фильтрации. Создаётся автоматически, если отсутствует. |
| **`.gitignore` / `.build_ignore`** | Файлы с правилами игнорирования путей при сканировании. Используются `pathspec` для сопоставления. `.build_ignore` — дополнительный пользовательский файл. |
| **`CacheManager`** | Класс, управляющий двумя JSON-файлами: `index.json` (хэши файлов) и `llm_cache.json` (ответы LLM). Определяет добавленные, изменённые, удалённые и неизменные файлы. |
| **`file_map`** | Внутренняя структура данных, сопоставляющая каждый файл с его типом, доменами, хэшем и путём к сгенерированной сводке. Используется для построения навигации и генерации разделов. |
| **Домен (технологический)** | Категория технологий, определяемая по расширениям и именам файлов: `Kubernetes`, `Terraform`, `Docker`, `CI/CD`, `Observability` и др. Используется для группировки в документации. |
| **`SUMMARY_PROMPT`, `MODULE_SUMMARY_PROMPT`, `CONFIG_SUMMARY_PROMPT`** | Шаблоны промптов для LLM, применяемые в зависимости от типа файла: общий обзор, описание модуля, описание конфигурации. |
| **`chunk_text`** | Утилита разбиения текста на части по ограничению токенов модели. Использует `tiktoken` для точного подсчёта. Применяется при превышении лимита контекста. |
| **`_index.json`** | Навигационный индекс в `.ai-docs/`, содержащий структуру документации, приоритеты модулей и связи между файлами. Используется для построения `mkdocs.yml` и внутренних ссылок. |
| **`mkdocs.yml`** | Конфигурационный файл для генерации сайта документации. Создаётся автоматически с поддержкой плагинов (`mermaid2`, `search`) и локализованных заголовков. |
| **`changes.md`** | Автоматически генерируемый отчёт о внесённых изменениях: добавленные, изменённые, удалённые файлы и перегенерированные разделы. |
| **`--local-site`** | Флаг, отключающий `site_url` и `use_directory_urls` в `mkdocs.yml`, что позволяет корректно запускать сайт локально через `mkdocs serve`. |
| **`AI_DOCS_THREADS`** | Переменная окружения, задающая количество потоков для параллельной обработки файлов. По умолчанию зависит от системы. |
| **`OPENAI_API_KEY`, `OPENAI_BASE_URL`, `OPENAI_MODEL`** | Обязательные переменные окружения для настройки LLM-клиента. Поддерживают кастомные эндпоинты (например, локальные LLM через Ollama). |
| **`.ai_docs_cache/`** | Директория для хранения кэша LLM-ответов и временных данных. Не коммитится в репозиторий. |
| **`.ai-docs/`** | Рабочая директория инструмента, содержащая промежуточные артефакты: `docs/`, `_index.json`, `changes.md`, `dependencies.md`, `glossary.md`. |
| **`classify_type`** | Функция определения типа файла (код, конфигурация, документация) по расширению и имени. Используется при сканировании. |
| **`detect_domains`** | Функция распознавания технологических доменов по пути и содержимому файла. Определяет принадлежность к `Terraform`, `Docker`, `Helm` и др. |
