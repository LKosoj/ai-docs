---
name: documentary
description: "Помощь в разработке и рефакторинге кода на основе проектной документации в .ai-docs. Использовать при запросах вроде: «доработай код», «сделай рефакторинг», «сделай детальное описание проекта», когда нужно быстро ориентироваться в структуре, модулях и соглашениях проекта."
---

# Documentary

## Обзор

Скил ориентирует агента в кодовой базе через уже сгенерированную документацию в `.ai-docs`, помогает быстро найти нужные части проекта и затем переходить к коду для дальнейшей работы (понимание, анализ, правки).

## Workflow

### 1) Проверить наличие документации
- Если каталога `.ai-docs/` нет — ответить пользователю:  
  **«Документация отсутствует. Сначала подготовьте документацию с помощью ai-docs.»**  
  Дальше шаги не выполнять.
- Если каталог есть — продолжить.

### 2) Определить цель запроса
- Классифицировать запрос: обзор проекта / ориентация по модулям / рефакторинг / уточнение функций.
- Сформулировать, какие разделы `.ai-docs` нужны.

### 3) Собрать контекст из `.ai-docs`
Сначала использовать навигационный индекс `.ai-docs/_index.json`:
- Извлечь список секций и модулей, применить правила `rules.priority` и `rules.ranking`.
- Выбрать самый релевантный набор файлов без построения маршрутов.

Затем использовать только `.md` из `.ai-docs`:
- Базовые: `.ai-docs/index.md`, `.ai-docs/architecture.md`, `.ai-docs/conventions.md`, `.ai-docs/dependencies.md`.
- Модули: `.ai-docs/modules/index.md` + нужные страницы из `.ai-docs/modules/...`.

### 4) Сформировать ответ и перейти к коду при необходимости
- Сначала опираться на `.ai-docs` и приводить ссылки на конкретные файлы.
- Если для решения задачи нужен код — перейти к исходникам после того, как нужный модуль/функция найдены через `.ai-docs`.
- Если информации недостаточно — явно указать, что нужных деталей нет в документации.
- Не предлагать перегенерацию документации.

### 5) Результат (шаблон)
- Краткий вывод по запросу.
- Конкретные ссылки на использованные файлы `.ai-docs/...`.
- Если нужно — план рефакторинга с ссылками на соответствующие разделы.

## Правила
- `.ai-docs` — основной источник понимания и навигации.
- Обращаться к исходному коду можно после того, как нужный участок найден через `.ai-docs`.
- Всегда отвечать на языке, на котором был задан вопрос пользователем.
